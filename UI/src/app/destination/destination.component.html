<div class="dashboard-container">
  <header class="dashboard-header">
    <h1><i class="fas fa-map-marked-alt"></i> Destination Manager</h1>
    <div class="search-filter-container">
      <div class="search-box">
        <input type="text" [(ngModel)]="searchTerm" placeholder="Search destinations..." class="modern-input">
        <button (click)="searchDestinations()" class="search-button">
          <i class="fas fa-search"></i>
        </button>
      </div>
      <div class="filter-box">
        <input type="text" [(ngModel)]="selectedCountry" placeholder="Filter by country..." class="modern-input">
        <button (click)="filterByCountry()" class="search-button">
          <i class="fas fa-filter"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- Add Destination Panel -->
  <section class="panel" style="--index: 1">
    <div class="panel-header">
      <h2><i class="fas fa-plus-circle"></i> Add New Destination</h2>
    </div>
    <div class="panel-body">
      <form (submit)="createDestination()" class="modern-form">
        <div class="form-grid">
          <div class="form-group">
            <label>Destination Name</label>
            <input type="text" [(ngModel)]="newDestination.name" name="name" required class="modern-input" placeholder="Enter destination name">
          </div>
          <div class="form-group">
            <label>Country</label>
            <input type="text" [(ngModel)]="newDestination.country" name="country" required class="modern-input" placeholder="Enter country">
          </div>
          <div class="form-group">
            <label>Average Price</label>
            <div class="price-input">
              <span class="currency">€</span>
              <input type="number" [(ngModel)]="newDestination.averagePrice" name="averagePrice" required class="modern-input" placeholder="0">
            </div>
          </div>
          <div class="form-group full-width">
            <label>Description</label>
            <textarea [(ngModel)]="newDestination.description" name="description" rows="3" class="modern-textarea" placeholder="Enter destination description"></textarea>
          </div>
        </div>
        <button type="submit" class="action-button primary">
          <i class="fas fa-save"></i> Save Destination
        </button>
      </form>
    </div>
  </section>

  <!-- Edit Destination Panel -->
  <section class="panel" *ngIf="selectedDestination" style="--index: 2">
    <div class="panel-header">
      <h2><i class="fas fa-edit"></i> Edit Destination</h2>
    </div>
    <div class="panel-body">
      <form (submit)="updateDestination()" class="modern-form">
        <div class="form-grid">
          <div class="form-group">
            <label>Destination Name</label>
            <input type="text" [(ngModel)]="selectedDestination.name" name="editName" required class="modern-input">
          </div>
          <div class="form-group">
            <label>Country</label>
            <input type="text" [(ngModel)]="selectedDestination.country" name="editCountry" required class="modern-input">
          </div>
          <div class="form-group">
            <label>Average Price</label>
            <div class="price-input">
              <span class="currency">€</span>
              <input type="number" [(ngModel)]="selectedDestination.averagePrice" name="editAveragePrice" required class="modern-input">
            </div>
          </div>
          <div class="form-group full-width">
            <label>Description</label>
            <textarea [(ngModel)]="selectedDestination.description" name="editDescription" rows="3" class="modern-textarea"></textarea>
          </div>
        </div>
        <div class="action-buttons">
          <button type="submit" class="action-button success">
            <i class="fas fa-check"></i> Update
          </button>
          <button type="button" (click)="selectedDestination = undefined" class="action-button secondary">
            <i class="fas fa-times"></i> Cancel
          </button>
        </div>
      </form>
    </div>
  </section>

  <!-- Destinations List -->
  <section class="panel" style="--index: 3">
    <div class="panel-header">
      <h2><i class="fas fa-list"></i> Destinations List</h2>
    </div>
    <div class="panel-body">
      <div class="modern-table-container">
        <table class="modern-table">
          <thead>
          <tr>
            <th>Destination</th>
            <th>Country</th>
            <th>Description</th>
            <th>Price</th>
            <th>Actions</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let destination of destinations">
            <td class="highlight">{{ destination.name }}</td>
            <td><span class="country-badge">{{ destination.country }}</span></td>
            <td>{{ destination.description || '-' }}</td>
            <td class="price">{{ destination.averagePrice | currency:'EUR' }}</td>
            <td class="actions">
              <button (click)="selectDestination(destination)" class="icon-button edit" title="Edit">
                <i class="fas fa-pencil-alt"></i>
              </button>
              <button (click)="deleteDestination(destination.id!)" class="icon-button delete" title="Delete">
                <i class="fas fa-trash-alt"></i>
              </button>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>
</div>
